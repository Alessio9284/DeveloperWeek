<!DOCTYPE html>
<html lang="it-IT">
	<head>
		<title>Gestione degli Incassi</title>
		<meta charset="UTF-8"/>
		
		<!-- Icona -->
		<link rel="icon" type="image/png" href="img/icona.png"/>
		
		<!-- Stile -->
		<link rel="stylesheet" type="text/css" href="css/style.css">
		
		<!-- Jquery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<!-- Javascript -->
		<script type="text/javascript">
			window.onload = function()
			{
				var colore = 0;
				
				$.get("https://dwsim-194816.appspot.com/registrazioni", function(data) //prende le registrazioni dal server e lo mette dentro la variabile data
				{
					/*alert(data);*/
					var Oggetto = JSON.parse(data);
					var element;
					
					for(var i = 0; i < Oggetto.length; i++)	//prende il contenuto della variabile data e lo stampa dentro una tabella 
					{
						element = document.createElement("tr");
					
						if(i%2 == 0)	//decide se la riga ha un colore chiaro o scuro
						{
							element.setAttribute("class", "coloreChiaro");
						}
						else
						{
							element.setAttribute("class", "coloreScuro");
						}
						
						element.innerHTML = (
							"<td>" + Oggetto[i].idregistrazione + "</td>" +
							"<td>" + Oggetto[i].data + "</td>" +
							"<td>" + Oggetto[i].tipo + "</td>" +
							"<td>" + Oggetto[i].importo + "</td>" +
							"<td>" + Oggetto[i].idazienda + "</td>" +
							"<td>" + Oggetto[i].azienda + "</td>"
						);
						
						document.getElementById("Salva").appendChild(element);
						colore++;
					}
				});
			}
		</script>
	</head>
	
	<body>
		<header>
			<img id="logo" alt="" src="img/logo.png">
			<p id="ricerca">Cerca: <input type="search"/></p>
		</header>
		<table id="Salva">
			<tr>
				<th>ID Fattura</th>
				<th>Data</th>
				<th>Tipologia</th>
				<th>Importo</th>
				<th>ID Azienda</th>
				<th>Nome Azienda</th>
			</tr>
			<tr>
				<td colspan="6">
					<button style="width: 100%;" onclick="window.location='index.html';">Torna indietro</button>
				</td>
			</tr>
		</table>
	</body>
</html>